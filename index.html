<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ranking Epersgeist</title>
    <link rel="stylesheet" href="css/rankings.css">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body>
    <nav>
        <div class="navbar-content">
            <span class="navbar-title">Ranking Epersgeist</span>
            <button id="login-btn">Iniciar sesión</button>
        </div>
    </nav>
    <div class="ranking-container">
        <div class="ranking-box" id="ranking-ganadas">
            <h2>Espiritus con más batallas ganadas</h2>
            <table class="ranking-table" id="ranking-ganadas-table">
                <thead>
                    <tr>
                        <th>Posición</th>
                        <th>Nombre</th>
                        <th>Ganadas</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Aquí se insertarán las filas dinámicamente -->
                </tbody>
            </table>
        </div>
        <div class="ranking-box" id="ranking-perdidas">
            <h2>Espíritus con más batallas perdidas</h2>
            <table class="ranking-table" id="ranking-perdidas-table">
                <thead>
                    <tr>
                        <th>Posición</th>
                        <th>Nombre</th>
                        <th>Perdidas</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Aquí se insertarán las filas dinámicamente -->
                </tbody>
            </table>
        </div>
        <div class="ranking-box" id="ranking-jugadas">
            <h2>Espíritus con más batallas jugadas</h2>
            <table class="ranking-table" id="ranking-jugadas-table">
                <thead>
                    <tr>
                        <th>Posición</th>
                        <th>Nombre</th>
                        <th>Jugadas</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Aquí se insertarán las filas dinámicamente -->
                </tbody>
            </table>
        </div>
        <!-- Nueva tabla: Todos los espíritus con todos sus atributos -->
        <div class="ranking-box" id="ranking-todos">
            <h2>Todos los espíritus</h2>
            <table class="ranking-table" id="ranking-todos-table">
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Ganadas</th>
                        <th>Perdidas</th>
                        <th>Jugadas</th>
                        <!-- Agrega más columnas aquí si hay más atributos -->
                    </tr>
                </thead>
                <tbody>
                    <!-- Aquí se insertarán todas las filas dinámicamente -->
                </tbody>
            </table>
        </div>
    </div>
<dialog id="espiritu-dialog">
      <div class="modal-header">Crear Espíritu</div>
      <form id="espiritu-form" method="dialog">
        <label
          >Nombre<br />
          <input type="text" name="nombre" required />
        </label>
        <label
          >Tipo<br />
          <select name="tipo" required>
            <option value="ANGELICAL">ANGELICAL</option>
            <option value="DEMONIACO">DEMONIACO</option>
          </select>
        </label>
        <label
          >UBICACION ID<br />
          <input type="number" name="ubicacionId" min="1" required />
        </label>
        <label
          >Ataque<br />
          <input type="number" name="ataque" min="1" required />
        </label>
        <label
          >Defensa<br />
          <input type="number" name="defensa" min="1" required />
        </label>
        <menu class="modal-footer">
          <button type="submit">Guardar</button>
        </menu>
      </form>
    </dialog>
    <script type="module" src="./js/main.js"></script>
    <script type="module">
        import { getAuth, signInWithPopup, GoogleAuthProvider } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-auth.js";
        import { app } from './js/firebaseConfig.js';

        const loginBtn = document.getElementById('login-btn');
        loginBtn.addEventListener('click', async () => {
            const auth = getAuth(app);
            const provider = new GoogleAuthProvider();
            try {
                await signInWithPopup(auth, provider);
                alert('Sesión iniciada correctamente');
            } catch (error) {
                alert('Error al iniciar sesión: ' + error.message);
            }
        });
    </script>
</body>
</html>